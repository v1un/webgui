# AI Study Assistant - Frontend Implementation Plan (webgui)

This document outlines the plan for the frontend portion of the AI Study Assistant feature within the `webgui` project.

## Architecture Overview

The frontend (`webgui`) provides the user interface for interacting with the AI Study Assistant. Its primary responsibilities are:

1.  **User Interface (UI):** Render the chat interface (`StudyPage.tsx`), including the message history display, user input field, send button, and loading indicators. It will also include a designated area to potentially render interactive quiz components generated by the backend.
2.  **User Input Handling:** Capture user messages typed into the input field.
3.  **API Communication:** Send user messages to the backend API endpoint (`http://localhost:3000/api/ai/chat` in `serverauthforrustapp`) when the user clicks "Send" or presses Enter.
4.  **Response Display:** Receive responses (explanations, quiz data, status updates) from the backend API and display them appropriately in the chat history or designated quiz area.
5.  **State Management:** Manage local component state for input values, chat history, and loading status (`isLoading`).

## Current Status (as of completion of initial setup)

*   `StudyPage.tsx` component created and integrated into routing (`/study`).
*   Basic chat UI layout implemented (message list, input, button, quiz placeholder).
*   Client-side state management for input and chat history added.
*   API call logic implemented using `fetch` to send messages to `http://localhost:3000/api/ai/chat`.
*   Loading state handling added (disables input/button, shows indicator).
*   Placeholder responses from the backend are displayed in the chat history.

## Next Steps (Frontend)

1.  **Quiz Rendering:** Implement logic to receive quiz data (e.g., questions, options) from the backend API and render an interactive quiz component in the designated placeholder area. This might involve creating a new `QuizComponent`.
2.  **Improved UI/UX:** Enhance styling, add chat message formatting (e.g., code blocks, lists), implement auto-scrolling for the chat history, and refine loading/error states.
3.  **Error Handling:** Improve error handling for API calls, providing more informative feedback to the user.
4.  **(Optional) Authentication Integration:** If required, integrate with the existing authentication system in `webgui` to send user tokens with API requests to the backend.

## Interaction Flow

1.  User navigates to `/study`.
2.  User types a message (e.g., "Explain photosynthesis", "Quiz me on cell biology") and clicks Send.
3.  `StudyPage.tsx` sets `isLoading` to true, updates the UI.
4.  `StudyPage.tsx` sends a POST request to `http://localhost:3000/api/ai/chat` with the message.
5.  Backend (`serverauthforrustapp`) processes the request (orchestration, agent calls - see backend `readmeAI.md`).
6.  Backend sends a JSON response back (e.g., explanation text, quiz data).
7.  `StudyPage.tsx` receives the response.
8.  `StudyPage.tsx` sets `isLoading` to false.
9.  `StudyPage.tsx` updates the `chatHistory` state with the AI response or renders the quiz component using the received data.